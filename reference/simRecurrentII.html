<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Simulation of recurrent events data based on cumulative hazards with two types of recurrent events — simRecurrentII • mets</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulation of recurrent events data based on cumulative hazards with two types of recurrent events — simRecurrentII"><meta name="description" content="Simulation of recurrent events data based on cumulative hazards"><meta property="og:description" content="Simulation of recurrent events data based on cumulative hazards"><meta property="og:image" content="http://kkholst.github.io/mets/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/basic-dutils.html">dUtility data-frame manipulations</a></li>
    <li><a class="dropdown-item" href="../articles/binomial-family.html">Analysis of multivariate binomial data: family analysis</a></li>
    <li><a class="dropdown-item" href="../articles/binomial-twin.html">Analysis of bivariate binomial data: Twin analysis</a></li>
    <li><a class="dropdown-item" href="../articles/binreg-ate.html">Average treatment effect (ATE) for Competing risks and binary outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/binreg-TRS.html">Two-Stage Randomization for for Competing risks and Survival outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/binreg.html">Binomial Regression for Survival and Competing Risks Data</a></li>
    <li><a class="dropdown-item" href="../articles/cifreg.html">Cumulative Incidence Regression</a></li>
    <li><a class="dropdown-item" href="../articles/cooking-survival-data.html">WIP: Cooking survival data, 5 minute recipes</a></li>
    <li><a class="dropdown-item" href="../articles/cumulative-cost.html">IPCW Cumulative Cost</a></li>
    <li><a class="dropdown-item" href="../articles/glm-utility.html">GEE cluster standard errors and predictions for glm objects</a></li>
    <li><a class="dropdown-item" href="../articles/haplo-discrete-ttp.html">Haplotype Discrete Survival Models</a></li>
    <li><a class="dropdown-item" href="../articles/interval-discrete-survival.html">Discrete Interval Censored Survival Models</a></li>
    <li><a class="dropdown-item" href="../articles/marginal-cox.html">Marginal modelling of clustered survival data</a></li>
    <li><a class="dropdown-item" href="../articles/mediation-survival.html">Mediation Analysis for survival data</a></li>
    <li><a class="dropdown-item" href="../articles/phreg_rct.html">Randomization for Cox Type rate models </a></li>
    <li><a class="dropdown-item" href="../articles/quantitative-twin.html">Twin models</a></li>
    <li><a class="dropdown-item" href="../articles/recurrent-events.html">Recurrent events</a></li>
    <li><a class="dropdown-item" href="../articles/rmst-ate.html">Average treatment effect (ATE) for Restricted mean survival and years lost of Competing risks</a></li>
    <li><a class="dropdown-item" href="../articles/survival-ate.html">G-Computation or standardization for the Cox, Fine-Gray and binomial regression models for survival data</a></li>
    <li><a class="dropdown-item" href="../articles/time-to-event-family-studies-arev.html">A practical guide to Human Genetics with Lifetime Data</a></li>
    <li><a class="dropdown-item" href="../articles/twostage-survival.html">Analysis of multivariate survival data</a></li>
    <li><a class="dropdown-item" href="../articles/while-alive.html">While Alive estimands for Recurrent Events</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kkholst/mets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Simulation of recurrent events data based on cumulative hazards with two types of recurrent events</h1>
      <small class="dont-index">Source: <a href="https://github.com/kkholst/mets/blob/main/R/recurrent.marginal.R" class="external-link"><code>R/recurrent.marginal.R</code></a></small>
      <div class="d-none name"><code>simRecurrentII.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simulation of recurrent events data based on cumulative hazards</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simRecurrentII</span><span class="op">(</span></span>
<span>  <span class="va">n</span>,</span>
<span>  <span class="va">cumhaz</span>,</span>
<span>  <span class="va">cumhaz2</span>,</span>
<span>  death.cumhaz <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  r1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  r2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  dependence <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  var.z <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  cor.mat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cens <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  gap.time <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  max.recurrent <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>number of id's</p></dd>


<dt id="arg-cumhaz">cumhaz<a class="anchor" aria-label="anchor" href="#arg-cumhaz"></a></dt>
<dd><p>cumulative hazard of recurrent events</p></dd>


<dt id="arg-cumhaz-">cumhaz2<a class="anchor" aria-label="anchor" href="#arg-cumhaz-"></a></dt>
<dd><p>cumulative hazard of recurrent events  of type 2</p></dd>


<dt id="arg-death-cumhaz">death.cumhaz<a class="anchor" aria-label="anchor" href="#arg-death-cumhaz"></a></dt>
<dd><p>cumulative hazard of death</p></dd>


<dt id="arg-r-">r1<a class="anchor" aria-label="anchor" href="#arg-r-"></a></dt>
<dd><p>potential relative risk adjustment of rate</p></dd>


<dt id="arg-r-">r2<a class="anchor" aria-label="anchor" href="#arg-r-"></a></dt>
<dd><p>potential relative risk adjustment of rate</p></dd>


<dt id="arg-rd">rd<a class="anchor" aria-label="anchor" href="#arg-rd"></a></dt>
<dd><p>potential relative risk adjustment of rate</p></dd>


<dt id="arg-rc">rc<a class="anchor" aria-label="anchor" href="#arg-rc"></a></dt>
<dd><p>potential relative risk adjustment of rate</p></dd>


<dt id="arg-dependence">dependence<a class="anchor" aria-label="anchor" href="#arg-dependence"></a></dt>
<dd><p>0:independence; 1:all share same random effect with variance var.z; 2:random effect exp(normal) with correlation structure from cor.mat; 3:additive gamma distributed random effects, z1= (z11+ z12)/2 such that mean is 1 , z2= (z11^cor.mat(1,2)+ z13)/2, z3= (z12^(cor.mat(2,3)+z13^cor.mat(1,3))/2, with z11 z12 z13 are gamma with mean and variance 1 , first random effect is z1 and for N1 second random effect is z2 and for N2 third random effect is for death</p></dd>


<dt id="arg-var-z">var.z<a class="anchor" aria-label="anchor" href="#arg-var-z"></a></dt>
<dd><p>variance of random effects</p></dd>


<dt id="arg-cor-mat">cor.mat<a class="anchor" aria-label="anchor" href="#arg-cor-mat"></a></dt>
<dd><p>correlation matrix for var.z variance of random effects</p></dd>


<dt id="arg-cens">cens<a class="anchor" aria-label="anchor" href="#arg-cens"></a></dt>
<dd><p>rate of censoring exponential distribution</p></dd>


<dt id="arg-gap-time">gap.time<a class="anchor" aria-label="anchor" href="#arg-gap-time"></a></dt>
<dd><p>if true simulates gap-times with specified cumulative hazard</p></dd>


<dt id="arg-max-recurrent">max.recurrent<a class="anchor" aria-label="anchor" href="#arg-max-recurrent"></a></dt>
<dd><p>limits number recurrent events to 100</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to simRecurrentList</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Must give cumulative hazard of death and possibly two recurrent events.
Their dependence can be specified via random
effects but the two recurrent events need to share the random effect, and can also be
specified via zzr.
The terminal event may share this random effect (dependence=1) or not
(dependence=4) and can be specified via zzr.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Thomas Scheike</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">########################################</span></span></span>
<span class="r-in"><span><span class="co">## getting some rates to mimick </span></span></span>
<span class="r-in"><span><span class="co">########################################</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kkholst.github.io/mets/" class="external-link">mets</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">CPH_HPN_CRBSI</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dr</span> <span class="op">&lt;-</span> <span class="va">CPH_HPN_CRBSI</span><span class="op">$</span><span class="va">terminal</span></span></span>
<span class="r-in"><span><span class="va">base1</span> <span class="op">&lt;-</span> <span class="va">CPH_HPN_CRBSI</span><span class="op">$</span><span class="va">crbsi</span> </span></span>
<span class="r-in"><span><span class="va">base4</span> <span class="op">&lt;-</span> <span class="va">CPH_HPN_CRBSI</span><span class="op">$</span><span class="va">mechanical</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="co">### simulating simple model that mimicks data </span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="va">rr</span> <span class="op">&lt;-</span> <span class="fu"><a href="simRecurrent.html">simRecurrent</a></span><span class="op">(</span><span class="fl">5</span>,<span class="va">base1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dprint.html">dlist</a></span><span class="op">(</span><span class="va">rr</span>,<span class="va">.</span><span class="op">~</span><span class="va">id</span>,n<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         entry       time status dtime fdeath death      start       stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0.00000   46.48577      1  5110      0     0    0.00000   46.48577</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6    46.48577  354.25536      1  5110      0     0   46.48577  354.25536</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  354.25536  784.54874      1  5110      0     0  354.25536  784.54874</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  784.54874 1532.83800      1  5110      0     0  784.54874 1532.83800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 1532.83800 2165.23317      1  5110      0     0 1532.83800 2165.23317</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 2165.23317 3076.99011      1  5110      0     0 2165.23317 3076.99011</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 31 3076.99011 3079.98994      1  5110      0     0 3076.99011 3079.98994</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 35 3079.98994 3620.79709      1  5110      0     0 3079.98994 3620.79709</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 37 3620.79709 3643.20854      1  5110      0     0 3620.79709 3643.20854</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39 3643.20854 3704.27821      1  5110      0     0 3643.20854 3704.27821</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 41 3704.27821 3877.28789      1  5110      0     0 3704.27821 3877.28789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 43 3877.28789 5110.00000      0  5110      0     0 3877.28789 5110.00000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        entry      time status dtime fdeath death     start      stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0.0000  836.2402      1  5110      0     0    0.0000  836.2402</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   836.2402 1582.7756      1  5110      0     0  836.2402 1582.7756</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 1582.7756 1909.3792      1  5110      0     0 1582.7756 1909.3792</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 1909.3792 2788.0148      1  5110      0     0 1909.3792 2788.0148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 2788.0148 4131.8937      1  5110      0     0 2788.0148 4131.8937</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 4131.8937 4542.2007      1  5110      0     0 4131.8937 4542.2007</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32 4542.2007 5110.0000      0  5110      0     0 4542.2007 5110.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        entry      time status dtime fdeath death     start      stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3     0.0000  477.0110      1  5110      0     0    0.0000  477.0110</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   477.0110  684.0066      1  5110      0     0  477.0110  684.0066</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  684.0066  752.7554      1  5110      0     0  684.0066  752.7554</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  752.7554  786.7790      1  5110      0     0  752.7554  786.7790</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23  786.7790 1523.6981      1  5110      0     0  786.7790 1523.6981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 1523.6981 1697.5033      1  5110      0     0 1523.6981 1697.5033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33 1697.5033 2121.4121      1  5110      0     0 1697.5033 2121.4121</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36 2121.4121 2211.0749      1  5110      0     0 2121.4121 2211.0749</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38 2211.0749 2248.7271      1  5110      0     0 2211.0749 2248.7271</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40 2248.7271 3559.0995      1  5110      0     0 2248.7271 3559.0995</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42 3559.0995 3823.9527      1  5110      0     0 3559.0995 3823.9527</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 44 3823.9527 4697.2929      1  5110      0     0 3823.9527 4697.2929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45 4697.2929 4697.6391      1  5110      0     0 4697.2929 4697.6391</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 46 4697.6391 5031.7334      1  5110      0     0 4697.6391 5031.7334</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47 5031.7334 5110.0000      0  5110      0     0 5031.7334 5110.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       entry     time status dtime fdeath death    start     stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     0.000 1570.693      1  5110      0     0    0.000 1570.693</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  1570.693 3057.897      1  5110      0     0 1570.693 3057.897</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 3057.897 3389.234      1  5110      0     0 3057.897 3389.234</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 3389.234 3913.541      1  5110      0     0 3389.234 3913.541</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 3913.541 3976.522      1  5110      0     0 3913.541 3976.522</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 29 3976.522 5110.000      0  5110      0     0 3976.522 5110.000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       entry     time status dtime fdeath death    start     stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5     0.000 1253.563      1  5110      0     0    0.000 1253.563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 1253.563 1947.437      1  5110      0     0 1253.563 1947.437</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 1947.437 2075.897      1  5110      0     0 1947.437 2075.897</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 2075.897 2211.924      1  5110      0     0 2075.897 2211.924</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 2211.924 3991.204      1  5110      0     0 2211.924 3991.204</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30 3991.204 5084.684      1  5110      0     0 3991.204 5084.684</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 34 5084.684 5110.000      0  5110      0     0 5084.684 5110.000</span>
<span class="r-in"><span><span class="va">rr</span> <span class="op">&lt;-</span> <span class="fu"><a href="simRecurrent.html">simRecurrent</a></span><span class="op">(</span><span class="fl">5</span>,<span class="va">base1</span>,death.cumhaz<span class="op">=</span><span class="va">dr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dprint.html">dlist</a></span><span class="op">(</span><span class="va">rr</span>,<span class="va">.</span><span class="op">~</span><span class="va">id</span>,n<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        entry      time status    dtime fdeath death     start      stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1     0.0000  350.6289      1 2996.717      1     0    0.0000  350.6289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   350.6289  362.1943      1 2996.717      1     0  350.6289  362.1943</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10  362.1943  884.5432      1 2996.717      1     0  362.1943  884.5432</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12  884.5432 1546.1629      1 2996.717      1     0  884.5432 1546.1629</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 1546.1629 1701.7343      1 2996.717      1     0 1546.1629 1701.7343</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 1701.7343 2996.7166      0 2996.717      1     1 1701.7343 2996.7166</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   entry     time status    dtime fdeath death start     stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2     0 209.9771      0 209.9771      1     1     0 209.9771</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      entry      time status    dtime fdeath death    start      stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   0.0000  509.7645      1 4193.438      1     0   0.0000  509.7645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 509.7645 4193.4377      0 4193.438      1     1 509.7645 4193.4377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        entry      time status    dtime fdeath death     start      stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4     0.0000  298.0493      1 2335.534      1     0    0.0000  298.0493</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   298.0493  482.9285      1 2335.534      1     0  298.0493  482.9285</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11  482.9285  490.5588      1 2335.534      1     0  482.9285  490.5588</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13  490.5588  630.2717      1 2335.534      1     0  490.5588  630.2717</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15  630.2717  750.7360      1 2335.534      1     0  630.2717  750.7360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  750.7360  768.4209      1 2335.534      1     0  750.7360  768.4209</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18  768.4209 1510.5186      1 2335.534      1     0  768.4209 1510.5186</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 1510.5186 1936.9710      1 2335.534      1     0 1510.5186 1936.9710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 1936.9710 2263.3131      1 2335.534      1     0 1936.9710 2263.3131</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 2263.3131 2335.5340      0 2335.534      1     1 2263.3131 2335.5340</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> id: 5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      entry      time status    dtime fdeath death    start      stop</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   0.0000  358.8214      1 4797.555      1     0   0.0000  358.8214</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9 358.8214 4797.5555      0 4797.555      1     1 358.8214 4797.5555</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">rr</span> <span class="op">&lt;-</span> <span class="fu"><a href="simRecurrent.html">simRecurrent</a></span><span class="op">(</span><span class="fl">100</span>,<span class="va">base1</span>,death.cumhaz<span class="op">=</span><span class="va">dr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">showfitsim</span><span class="op">(</span>causes<span class="op">=</span><span class="fl">1</span>,<span class="va">rr</span>,<span class="va">dr</span>,<span class="va">base1</span>,<span class="va">base1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="co">### simulating simple model </span></span></span>
<span class="r-in"><span><span class="co">### random effect for all causes (Z shared for death and recurrent) </span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="va">rr</span> <span class="op">&lt;-</span> <span class="fu"><a href="simRecurrent.html">simRecurrent</a></span><span class="op">(</span><span class="fl">100</span>,<span class="va">base1</span>,death.cumhaz<span class="op">=</span><span class="va">dr</span>,dependence<span class="op">=</span><span class="fl">1</span>,var.z<span class="op">=</span><span class="fl">0.4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dtable.html">dtable</a></span><span class="op">(</span><span class="va">rr</span>,<span class="op">~</span><span class="va">death</span><span class="op">+</span><span class="va">status</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       status   0   1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> death               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0             26 221</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             74   0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="co">### now with two event types and second type has same rate as death rate</span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rr</span> <span class="op">&lt;-</span> <span class="fu">simRecurrentII</span><span class="op">(</span><span class="fl">100</span>,<span class="va">base1</span>,<span class="va">base4</span>,death.cumhaz<span class="op">=</span><span class="va">dr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dtable.html">dtable</a></span><span class="op">(</span><span class="va">rr</span>,<span class="op">~</span><span class="va">death</span><span class="op">+</span><span class="va">status</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       status   0   1   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> death                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0             10 295  39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             90   0   0</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="simRecurrentII-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">showfitsim</span><span class="op">(</span>causes<span class="op">=</span><span class="fl">2</span>,<span class="va">rr</span>,<span class="va">dr</span>,<span class="va">base1</span>,<span class="va">base4</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="co">### now with three event types and two causes of death </span></span></span>
<span class="r-in"><span><span class="co">######################################################################</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cumhaz</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">base1</span>,<span class="va">base1</span>,<span class="va">base4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">drl</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">dr</span>,<span class="va">base4</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">rr</span> <span class="op">&lt;-</span> <span class="fu">simRecurrentList</span><span class="op">(</span><span class="fl">100</span>,<span class="va">cumhaz</span>,death.cumhaz<span class="op">=</span><span class="va">drl</span>,dependence<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dtable.html">dtable</a></span><span class="op">(</span><span class="va">rr</span>,<span class="op">~</span><span class="va">death</span><span class="op">+</span><span class="va">status</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       status   0   1   2   3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> death                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0              4 232 268  33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1             70   0   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2             26   0   0   0</span>
<span class="r-in"><span><span class="fu">showfitsimList</span><span class="op">(</span><span class="va">rr</span>,<span class="va">cumhaz</span>,<span class="va">drl</span><span class="op">)</span> </span></span>
<span class="r-plt img"><img src="simRecurrentII-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-plt img"><img src="simRecurrentII-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Klaus K. Holst, Thomas Scheike.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

