<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Binomial Regression for censored competing risks data — binreg • mets</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Binomial Regression for censored competing risks data — binreg"><meta name="description" content="Simple version of comp.risk function of timereg for just one time-point thus fitting the model
$$P(T \leq t, \epsilon=1 | X ) = expit( X^T beta) $$"><meta property="og:description" content="Simple version of comp.risk function of timereg for just one time-point thus fitting the model
$$P(T \leq t, \epsilon=1 | X ) = expit( X^T beta) $$"><meta property="og:image" content="http://kkholst.github.io/mets/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">mets</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.9</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/basic-dutils.html">dUtility data-frame manipulations</a></li>
    <li><a class="dropdown-item" href="../articles/binomial-family.html">Analysis of multivariate binomial data: family analysis</a></li>
    <li><a class="dropdown-item" href="../articles/binomial-twin.html">Analysis of bivariate binomial data: Twin analysis</a></li>
    <li><a class="dropdown-item" href="../articles/binreg-ate.html">Average treatment effect (ATE) for Competing risks and binary outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/binreg-TRS.html">Two-Stage Randomization for for Competing risks and Survival outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/binreg.html">Binomial Regression for Survival and Competing Risks Data</a></li>
    <li><a class="dropdown-item" href="../articles/cifreg.html">Cumulative Incidence Regression</a></li>
    <li><a class="dropdown-item" href="../articles/cooking-survival-data.html">WIP: Cooking survival data, 5 minute recipes</a></li>
    <li><a class="dropdown-item" href="../articles/cumulative-cost.html">IPCW Cumulative Cost</a></li>
    <li><a class="dropdown-item" href="../articles/glm-utility.html">GEE cluster standard errors and predictions for glm objects</a></li>
    <li><a class="dropdown-item" href="../articles/haplo-discrete-ttp.html">Haplotype Discrete Survival Models</a></li>
    <li><a class="dropdown-item" href="../articles/interval-discrete-survival.html">Discrete Interval Censored Survival Models</a></li>
    <li><a class="dropdown-item" href="../articles/marginal-cox.html">Marginal modelling of clustered survival data</a></li>
    <li><a class="dropdown-item" href="../articles/mediation-survival.html">Mediation Analysis for survival data</a></li>
    <li><a class="dropdown-item" href="../articles/phreg_rct.html">Randomization for Cox Type rate models </a></li>
    <li><a class="dropdown-item" href="../articles/quantitative-twin.html">Twin models</a></li>
    <li><a class="dropdown-item" href="../articles/recurrent-events.html">Recurrent events</a></li>
    <li><a class="dropdown-item" href="../articles/rmst-ate.html">Average treatment effect (ATE) for Restricted mean survival and years lost of Competing risks</a></li>
    <li><a class="dropdown-item" href="../articles/survival-ate.html">G-Computation or standardization for the Cox, Fine-Gray and binomial regression models for survival data</a></li>
    <li><a class="dropdown-item" href="../articles/time-to-event-family-studies-arev.html">A practical guide to Human Genetics with Lifetime Data</a></li>
    <li><a class="dropdown-item" href="../articles/twostage-survival.html">Analysis of multivariate survival data</a></li>
    <li><a class="dropdown-item" href="../articles/while-alive.html">While Alive estimands for Recurrent Events</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/kkholst/mets/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Binomial Regression for censored competing risks data</h1>
      <small class="dont-index">Source: <a href="https://github.com/kkholst/mets/blob/main/R/binomial.regression.R" class="external-link"><code>R/binomial.regression.R</code></a></small>
      <div class="d-none name"><code>binreg.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simple version of comp.risk function of timereg for just one time-point thus fitting the model
$$P(T \leq t, \epsilon=1 | X ) = expit( X^T beta) $$</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">binreg</span><span class="op">(</span></span>
<span>  <span class="va">formula</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  cause <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  beta <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"II"</span>, <span class="st">"I"</span><span class="op">)</span>,</span>
<span>  offset <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cens.weights <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  cens.model <span class="op">=</span> <span class="op">~</span><span class="op">+</span><span class="fl">1</span>,</span>
<span>  se <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  kaplan.meier <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  cens.code <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  no.opt <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"nr"</span>,</span>
<span>  augmentation <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outcome <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cif"</span>, <span class="st">"rmst"</span>, <span class="st">"rmtl"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"default"</span>, <span class="st">"logit"</span>, <span class="st">"exp"</span>, <span class="st">"lin"</span><span class="op">)</span>,</span>
<span>  Ydirect <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  monotone <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>formula with outcome (see <code>coxph</code>)</p></dd>


<dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>data frame</p></dd>


<dt id="arg-cause">cause<a class="anchor" aria-label="anchor" href="#arg-cause"></a></dt>
<dd><p>cause of interest (numeric variable)</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>time of interest</p></dd>


<dt id="arg-beta">beta<a class="anchor" aria-label="anchor" href="#arg-beta"></a></dt>
<dd><p>starting values</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>"II" adds augmentation term, and "I" classic binomial regression</p></dd>


<dt id="arg-offset">offset<a class="anchor" aria-label="anchor" href="#arg-offset"></a></dt>
<dd><p>offsets for partial likelihood</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>for score equations</p></dd>


<dt id="arg-cens-weights">cens.weights<a class="anchor" aria-label="anchor" href="#arg-cens-weights"></a></dt>
<dd><p>censoring weights</p></dd>


<dt id="arg-cens-model">cens.model<a class="anchor" aria-label="anchor" href="#arg-cens-model"></a></dt>
<dd><p>only stratified cox model without covariates</p></dd>


<dt id="arg-se">se<a class="anchor" aria-label="anchor" href="#arg-se"></a></dt>
<dd><p>to compute se's  based on IPCW</p></dd>


<dt id="arg-kaplan-meier">kaplan.meier<a class="anchor" aria-label="anchor" href="#arg-kaplan-meier"></a></dt>
<dd><p>uses Kaplan-Meier for IPCW in contrast to exp(-Baseline)</p></dd>


<dt id="arg-cens-code">cens.code<a class="anchor" aria-label="anchor" href="#arg-cens-code"></a></dt>
<dd><p>gives censoring code</p></dd>


<dt id="arg-no-opt">no.opt<a class="anchor" aria-label="anchor" href="#arg-no-opt"></a></dt>
<dd><p>to not optimize</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>for optimization</p></dd>


<dt id="arg-augmentation">augmentation<a class="anchor" aria-label="anchor" href="#arg-augmentation"></a></dt>
<dd><p>to augment binomial regression</p></dd>


<dt id="arg-outcome">outcome<a class="anchor" aria-label="anchor" href="#arg-outcome"></a></dt>
<dd><p>can do CIF regression "cif"=F(t|X), "rmst"=E( min(T, t) | X) , or years-lost "rmtl"=E( I(epsilon==cause) ( t - mint(T,t)) ) | X)</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>link functions used, with defaults logit for cif, exp for rmst or rmtl, but can be logit, exp or lin (for identity link)</p></dd>


<dt id="arg-ydirect">Ydirect<a class="anchor" aria-label="anchor" href="#arg-ydirect"></a></dt>
<dd><p>use this Y instead of outcome constructed inside the program (e.g. I(T&lt; t, epsilon=1)), then uses IPCW vesion of the Y, set outcome to "rmst" to fit using the model specified by model</p></dd>


<dt id="arg-monotone">monotone<a class="anchor" aria-label="anchor" href="#arg-monotone"></a></dt>
<dd><p>if true then uses del link functions used, with defaults logit for cif, exp for rmst or rmtl, but can be logit, exp or lin (for identity link)</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to lower level funtions</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Based on binomial regresion IPCW response estimating equation:
$$ X ( \Delta^{ipcw}(t) I(T \leq t, \epsilon=1 ) - expit( X^T beta)) = 0 $$
where $$\Delta^{ipcw}(t) = I((min(t,T)&lt; C)/G_c(min(t,T)-)$$ is
IPCW adjustment of the response $$Y(t)= I(T \leq t, \epsilon=1 )$$.</p>
<p>(type="I") sovlves this estimating equation using a stratified Kaplan-Meier for the
censoring distribution. For (type="II") the default an additional
censoring augmentation term $$X \int E(Y(t)| T&gt;s)/G_c(s) d \hat M_c$$ is added.</p>
<p>logitIPCW instead considers
$$ X  I(min(T_i,t) &lt; G_i)/G_c(min(T_i ,t)) ( I(T \leq t, \epsilon=1 ) - expit( X^T beta)) = 0 $$
a standard logistic regression with weights that adjust for IPCW.</p>
<p>When monotone is FALSE the solved equation for binreg is equivalent to minmizing the least squares problem and thus becomes
$$ D_\beta h(\beta)  ( \Delta^{ipcw}(t) I(T \leq t, \epsilon=1 ) - h( X^T beta)) = 0 $$.</p>
<p>The variance is based on the squared influence functions that are also returned as the iid component. naive.var is variance
under known censoring model.</p>
<p>Censoring model may depend on strata (cens.model=~strata(gX)).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Blanche PF, Holt A, Scheike T (2022). “On logistic regression with right censored data, with or without competing risks, and its use for estimating treatment effects.” Lifetime data analysis,
29, 441–482.
Scheike TH, Zhang MJ, Gerds TA (2008). “Predicting cumulative incidence probability by direct binomial regression.” Biometrika, 95(1), 205–220.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Thomas Scheike</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://kkholst.github.io/mets/" class="external-link">mets</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">bmt</span><span class="op">)</span>; <span class="va">bmt</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;-</span> <span class="va">bmt</span><span class="op">$</span><span class="va">time</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">408</span><span class="op">)</span><span class="op">*</span><span class="fl">0.001</span></span></span>
<span class="r-in"><span><span class="co"># logistic regresion with IPCW binomial regression </span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">binreg</span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="va">tcell</span><span class="op">+</span><span class="va">platelet</span>,<span class="va">bmt</span>,time<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n events</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408    160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408 clusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coeffients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate   Std.Err      2.5%     97.5% P-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -0.180332  0.126755 -0.428766  0.068103  0.1548</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell       -0.418194  0.345422 -1.095208  0.258820  0.2260</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet    -0.437667  0.240973 -0.909965  0.034630  0.0693</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(coeffients):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate    2.5%  97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  0.83499 0.65131 1.0705</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell        0.65823 0.33447 1.2954</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet     0.64554 0.40254 1.0352</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="http://kkholst.github.io/lava/reference/iid.html" class="external-link">iid</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              [,1]        [,2]        [,3]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] -0.006946408 0.004004252 0.006177039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] -0.006946408 0.004004252 0.006177039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] -0.006946408 0.004004252 0.006177039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] -0.006946408 0.004004252 0.006177039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] -0.006946408 0.004004252 0.006177039</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] -0.006946408 0.004004252 0.006177039</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="mlogit.html">predict</a></span><span class="op">(</span><span class="va">out</span>,<span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>tcell<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span><span class="op">)</span>,platelet<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>,se<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        pred         se     lower     upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.3502366 0.04847385 0.2552279 0.4452454</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.2618851 0.06969063 0.1252915 0.3984788</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">outs</span> <span class="op">&lt;-</span> <span class="fu">binreg</span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="va">tcell</span><span class="op">+</span><span class="va">platelet</span>,<span class="va">bmt</span>,time<span class="op">=</span><span class="fl">50</span>,cens.model<span class="op">=</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/strata.html" class="external-link">strata</a></span><span class="op">(</span><span class="va">tcell</span>,<span class="va">platelet</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">outs</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n events</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408    160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408 clusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coeffients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate   Std.Err      2.5%     97.5% P-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -0.180703  0.127413 -0.430429  0.069022  0.1561</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell       -0.365924  0.350632 -1.053150  0.321302  0.2967</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet    -0.433487  0.240270 -0.904408  0.037433  0.0712</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(coeffients):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate    2.5%  97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  0.83468 0.65023 1.0715</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell        0.69356 0.34884 1.3789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet     0.64824 0.40478 1.0381</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## glm with IPCW weights </span></span></span>
<span class="r-in"><span><span class="va">outl</span> <span class="op">&lt;-</span> <span class="fu">logitIPCW</span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="va">tcell</span><span class="op">+</span><span class="va">platelet</span>,<span class="va">bmt</span>,time<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">outl</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n events</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408    160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408 clusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coeffients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate   Std.Err      2.5%     97.5% P-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -0.241521  0.131457 -0.499171  0.016129  0.0662</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell       -0.344491  0.368376 -1.066494  0.377513  0.3497</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet    -0.292933  0.262665 -0.807747  0.221881  0.2647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(coeffients):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate    2.5%  97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  0.78543 0.60703 1.0163</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell        0.70858 0.34421 1.4587</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet     0.74607 0.44586 1.2484</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##########################################</span></span></span>
<span class="r-in"><span><span class="co">### risk-ratio of different causes #######</span></span></span>
<span class="r-in"><span><span class="co">##########################################</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">bmt</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bmt</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">bmt</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bmt</span><span class="op">$</span><span class="va">status</span> <span class="op">&lt;-</span> <span class="va">bmt</span><span class="op">$</span><span class="va">cause</span></span></span>
<span class="r-in"><span><span class="va">bmt</span><span class="op">$</span><span class="va">strata</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">bmtdob</span> <span class="op">&lt;-</span> <span class="va">bmt</span></span></span>
<span class="r-in"><span><span class="va">bmtdob</span><span class="op">$</span><span class="va">strata</span> <span class="op">&lt;-</span><span class="fl">2</span></span></span>
<span class="r-in"><span><span class="va">bmtdob</span> <span class="op">&lt;-</span> <span class="fu"><a href="dtransform.html">dtransform</a></span><span class="op">(</span><span class="va">bmtdob</span>,status<span class="op">=</span><span class="fl">1</span>,<span class="va">cause</span><span class="op">==</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">bmtdob</span> <span class="op">&lt;-</span> <span class="fu"><a href="dtransform.html">dtransform</a></span><span class="op">(</span><span class="va">bmtdob</span>,status<span class="op">=</span><span class="fl">2</span>,<span class="va">cause</span><span class="op">==</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">###</span></span></span>
<span class="r-in"><span><span class="va">bmtdob</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">bmt</span>,<span class="va">bmtdob</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="dtable.html">dtable</a></span><span class="op">(</span><span class="va">bmtdob</span>,<span class="va">cause</span><span class="op">+</span><span class="va">status</span><span class="op">~</span><span class="va">strata</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> strata: 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       status   0   1   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cause                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0            160   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              0 161   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              0   0  87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ------------------------------------------------------------ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> strata: 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       status   0   1   2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cause                   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0            160   0   0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              0   0 161</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              0  87   0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cif1</span> <span class="op">&lt;-</span> <span class="fu"><a href="cif.html">cif</a></span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="op">+</span><span class="fl">1</span>,<span class="va">bmt</span>,cause<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cif2</span> <span class="op">&lt;-</span> <span class="fu"><a href="cif.html">cif</a></span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="op">+</span><span class="fl">1</span>,<span class="va">bmt</span>,cause<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cif1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cif2</span>,add<span class="op">=</span><span class="cn">TRUE</span>,col<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="binreg-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cifs1</span> <span class="op">&lt;-</span> <span class="fu">binreg</span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="va">tcell</span><span class="op">+</span><span class="va">platelet</span><span class="op">+</span><span class="va">age</span>,<span class="va">bmt</span>,cause<span class="op">=</span><span class="fl">1</span>,time<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cifs2</span> <span class="op">&lt;-</span> <span class="fu">binreg</span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">cause</span><span class="op">)</span><span class="op">~</span><span class="va">tcell</span><span class="op">+</span><span class="va">platelet</span><span class="op">+</span><span class="va">age</span>,<span class="va">bmt</span>,cause<span class="op">=</span><span class="fl">2</span>,time<span class="op">=</span><span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">cifs1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n events</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408    160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408 clusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coeffients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate   Std.Err      2.5%     97.5% P-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -0.198947  0.130987 -0.455677  0.057782  0.1288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell       -0.636947  0.356604 -1.335878  0.061983  0.0741</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet    -0.344912  0.246013 -0.827089  0.137265  0.1609</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age          0.437244  0.107266  0.227007  0.647481  0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(coeffients):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate    2.5%  97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  0.81959 0.63402 1.0595</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell        0.52890 0.26293 1.0639</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet     0.70828 0.43732 1.1471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age          1.54843 1.25484 1.9107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">cifs2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n events</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408     85</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408 clusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coeffients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              Estimate   Std.Err      2.5%     97.5% P-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept) -1.322081  0.157783 -1.631329 -1.012832  0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell        0.746834  0.352260  0.056416  1.437252  0.0340</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet    -0.019142  0.276984 -0.562021  0.523738  0.9449</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age         -0.072139  0.141687 -0.349842  0.205563  0.6107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(coeffients):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Estimate    2.5%  97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)  0.26658 0.19567 0.3632</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell        2.11031 1.05804 4.2091</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet     0.98104 0.57006 1.6883</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age          0.93040 0.70480 1.2282</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">cifdob</span> <span class="op">&lt;-</span> <span class="fu">binreg</span><span class="op">(</span><span class="fu"><a href="Event.html">Event</a></span><span class="op">(</span><span class="va">time</span>,<span class="va">status</span><span class="op">)</span><span class="op">~</span><span class="op">-</span><span class="fl">1</span><span class="op">+</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">strata</span><span class="op">)</span><span class="op">+</span></span></span>
<span class="r-in"><span>   <span class="va">tcell</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">strata</span><span class="op">)</span><span class="op">+</span><span class="va">platelet</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">strata</span><span class="op">)</span><span class="op">+</span><span class="va">age</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">strata</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="op">+</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/cluster.html" class="external-link">cluster</a></span><span class="op">(</span><span class="va">id</span><span class="op">)</span>,<span class="va">bmtdob</span>,cause<span class="op">=</span><span class="fl">1</span>,time<span class="op">=</span><span class="fl">50</span>,cens.model<span class="op">=</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/pkg/survival/man/strata.html" class="external-link">strata</a></span><span class="op">(</span><span class="va">strata</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">cifdob</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    n events</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  816    245</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  408 clusters</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coeffients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                           Estimate   Std.Err      2.5%     97.5% P-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)1          -0.198947  0.130987 -0.455677  0.057782  0.1288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2          -1.322081  0.157783 -1.631329 -1.012832  0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell                    -0.636947  0.356604 -1.335878  0.061983  0.0741</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet                 -0.344912  0.246013 -0.827089  0.137265  0.1609</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age                       0.437244  0.107266  0.227007  0.647481  0.0000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2:tcell     1.383781  0.600927  0.205986  2.561577  0.0213</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2:platelet  0.325770  0.432013 -0.520959  1.172500  0.4508</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2:age      -0.509383  0.208101 -0.917254 -0.101513  0.0144</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> exp(coeffients):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                          Estimate    2.5%   97.5%</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)1           0.81959 0.63402  1.0595</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2           0.26658 0.19567  0.3632</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tcell                     0.52890 0.26293  1.0639</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> platelet                  0.70828 0.43732  1.1471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age                       1.54843 1.25484  1.9107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2:tcell     3.98996 1.22874 12.9562</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2:platelet  1.38510 0.59395  3.2301</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> factor(strata)2:age       0.60087 0.39961  0.9035</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="http://kkholst.github.io/lava/reference/iid.html" class="external-link">iid</a></span><span class="op">(</span><span class="va">cifdob</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           [,1]       [,2]        [,3]        [,4]          [,5]        [,6]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -0.007447571 0.01776726 0.004626980 0.006532086 -0.0006994667 -0.01601858</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.007988246 0.01802853 0.006444080 0.006743734 -0.0035442243 -0.02069211</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -0.008864645 0.01851042 0.010424440 0.006903340 -0.0101076390 -0.03003705</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 -0.008835416 0.01849245 0.010262329 0.006903222 -0.0098333568 -0.02967265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 -0.007126560 0.01761890 0.003707153 0.006378236  0.0006895580 -0.01349320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 -0.009148217 0.01869572 0.012152107 0.006877028 -0.0130608526 -0.03386034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          [,7]          [,8]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -0.02078114  0.0033123348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.01975211  0.0112638920</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 -0.01757153  0.0274275718</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 -0.01765988  0.0267910710</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 -0.02132293 -0.0009455222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 -0.01662766  0.0341341628</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">newdata</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>tcell<span class="op">=</span><span class="fl">1</span>,platelet<span class="op">=</span><span class="fl">1</span>,age<span class="op">=</span><span class="fl">0</span>,strata<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,id<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">riskratio</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">p</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">cifdob</span><span class="op">$</span><span class="va">coef</span> <span class="op">&lt;-</span> <span class="va">p</span></span></span>
<span class="r-in"><span>  <span class="va">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="mlogit.html">predict</a></span><span class="op">(</span><span class="va">cifdob</span>,<span class="va">newdata</span>,se<span class="op">=</span><span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">p</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">/</span><span class="va">p</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span><span class="fu">lava</span><span class="fu">::</span><span class="fu"><a href="http://kkholst.github.io/lava/reference/estimate.default.html" class="external-link">estimate</a></span><span class="op">(</span><span class="va">cifdob</span>,f<span class="op">=</span><span class="va">riskratio</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Estimate Std.Err   2.5% 97.5% P-value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> p1   0.6605  0.2738 0.1239 1.197 0.01585</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="mlogit.html">predict</a></span><span class="op">(</span><span class="va">cifdob</span>,<span class="va">newdata</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        pred         se     lower     upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.2349072 0.06592758 0.1056892 0.3641253</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.3556286 0.07421505 0.2101671 0.5010901</span>
<span class="r-in"><span><span class="op">(</span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="mlogit.html">predict</a></span><span class="op">(</span><span class="va">cifs1</span>,<span class="va">newdata</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        pred         se     lower     upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.2349072 0.06592758 0.1056892 0.3641253</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.2349072 0.06592758 0.1056892 0.3641253</span>
<span class="r-in"><span><span class="op">(</span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="mlogit.html">predict</a></span><span class="op">(</span><span class="va">cifs2</span>,<span class="va">newdata</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        pred         se     lower     upper</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.3556286 0.07421505 0.2101671 0.5010901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.3556286 0.07421505 0.2101671 0.5010901</span>
<span class="r-in"><span><span class="va">p1</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span><span class="op">/</span><span class="va">p2</span><span class="op">[</span><span class="fl">1</span>,<span class="fl">1</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.6605409</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Klaus K. Holst, Thomas Scheike.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

